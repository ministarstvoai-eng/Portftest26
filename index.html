<!doctype html>
<html lang="sr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#070709;
      --text:#f2f2f2;

      --border:rgba(255,255,255,.10);
      --border2:rgba(255,255,255,.22);
      --shadow: 0 22px 70px rgba(0,0,0,.60);

      --r:18px;
      --glass: rgba(16,16,20,.66);

      /* AFTER pulse colors */
      --aStroke1: rgba(120,255,210,.48);
      --aStroke2: rgba(120,255,210,.78);
      --aGlow1: rgba(120,255,210,.10);
      --aGlow2: rgba(120,255,210,.20);
      --aGlow3: rgba(120,170,255,.08);
      --aGlow4: rgba(120,170,255,.14);
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family:"Manrope", Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 650px at 50% 0%, rgba(255,255,255,.04), transparent 60%),
        radial-gradient(900px 600px at 50% 120%, rgba(0,0,0,.55), transparent 55%),
        var(--bg);
    }

    .wrap{
      max-width:1240px;
      margin:0 auto;
      padding: 0 18px 86px;
    }

    /* Sticky header */
    .sticky{
      position: sticky;
      top: 0;
      z-index: 200;
      padding: 14px 0 12px;
      background: linear-gradient(180deg, rgba(7,7,9,.92), rgba(7,7,9,.55) 70%, rgba(7,7,9,0));
      backdrop-filter: blur(10px);
    }

    .headerCard{
      max-width:1240px;
      margin: 0 auto;
      padding: 14px 14px 12px;
      border-radius: 18px;
      background: var(--glass);
      outline: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 16px 55px rgba(0,0,0,.35);
      backdrop-filter: blur(14px);
    }

    /* Centered title with 3-column grid */
    .top{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      gap:12px;
    }
    .leftSpacer{ justify-self:start; }
    .actions{ justify-self:end; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }

    .titleWrap{ justify-self:center; text-align:center; min-width: 160px; }
    .title{
      font-size: 34px;
      font-weight: 800;
      letter-spacing: .5px;
      margin: 4px 0 4px;
      text-shadow: 0 12px 50px rgba(0,0,0,.35);
    }
    .subtitle{
      margin: 0 0 8px;
      font-size: 12px;
      letter-spacing: .24em;
      text-transform: uppercase;
      color: rgba(255,255,255,.70);
      font-weight: 650;
    }
    .marker{
      width: min(340px, 74%);
      height: 1px;
      margin: 0 auto 2px;
      border-radius: 999px;
      background: linear-gradient(90deg,
        rgba(255,255,255,0),
        rgba(255,255,255,.34),
        rgba(255,255,255,0)
      );
      opacity: .9;
    }

    .btn{
      border:0;
      cursor:pointer;
      color:#fff;
      padding:11px 13px;
      border-radius:14px;
      font-size:13px;
      font-weight: 650;
      display:flex;
      gap:8px;
      align-items:center;
      white-space:nowrap;
      background: rgba(255,255,255,.10);
      outline: 1px solid rgba(255,255,255,.12);
      transition: transform .18s ease, background .18s ease, outline-color .18s ease;
      user-select:none;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.14);
      outline-color: rgba(255,255,255,.20);
    }
    .btn:active{ transform: translateY(0) scale(.99); }
    .btn.on{ background: rgba(255,255,255,.16); }

    /* Filters */
    .filters{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .chip{
      border:0;
      cursor:pointer;
      padding: 10px 14px;
      border-radius:999px;
      font-size: 14px;
      font-weight: 700;
      letter-spacing: .15px;
      color: rgba(255,255,255,.92);
      background: rgba(255,255,255,.08);
      outline: 1px solid rgba(255,255,255,.12);
      transition: background .18s ease, transform .18s ease, outline-color .18s ease, box-shadow .18s ease;
      user-select:none;
      display:flex;
      align-items:center;
      gap:8px;
      position:relative;
      overflow:hidden;
    }
    .chip:hover{
      background: rgba(255,255,255,.12);
      outline-color: rgba(255,255,255,.18);
      transform: translateY(-1px);
    }
    .chip:active{ transform: translateY(0) scale(.99); }
    .chip.active{
      background: rgba(255,255,255,.18);
      outline-color: rgba(255,255,255,.28);
      box-shadow: 0 0 22px rgba(255,255,255,.06);
      transform: translateY(-1px);
    }

    /* ALL chip special + animated sheen */
    .chip.allChip{
      background: rgba(255,255,255,.10);
      outline-color: rgba(255,255,255,.16);
    }
    .chip.allChip::before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius:999px;
      padding:1px;
      background: linear-gradient(90deg,
        rgba(120,255,210,.60),
        rgba(120,170,255,.45),
        rgba(255,255,255,.18)
      );
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity:.65;
      pointer-events:none;
      transition: opacity .18s ease;
    }
    .chip.allChip::after{
      content:"";
      position:absolute;
      top:-40%;
      left:-60%;
      width:55%;
      height:180%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
      transform: skewX(-18deg);
      opacity:0;
      pointer-events:none;
    }
    .chip.allChip:hover::after{ opacity:1; animation: chipSheen .9s ease forwards; }
    .chip.allChip.active{
      background: rgba(255,255,255,.22);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.06) inset,
        0 0 26px rgba(120,255,210,.10);
    }
    .chip.allChip.active::before{ opacity:1; }
    .chip.allChip.active::after{ opacity:1; animation: chipSheen 1.05s ease forwards; }
    @keyframes chipSheen{
      0%{ left:-60%; opacity:0; }
      15%{ opacity:1; }
      100%{ left:120%; opacity:0; }
    }

    .contentTopPad{ padding-top: 14px; }

    /* ========= Carousel strip (ALL only) ========= */
    .strip{
      display:none;
      margin: 6px 0 16px;
      padding: 12px;
      border-radius: 18px;
      background: rgba(255,255,255,.03);
      outline: 1px solid rgba(255,255,255,.08);
      overflow:hidden;
      position:relative;
      opacity: 0;
      transform: translateY(-12px);
      transition: opacity .34s ease, transform .34s ease;
    }
    .strip.show{
      display:block;
      opacity: 1;
      transform: translateY(0);
    }

    /* Stronger fades */
    .railFadeL, .railFadeR{
      position:absolute;
      top:0; bottom:0;
      width:150px;
      pointer-events:none;
      z-index:5;
    }
    .railFadeL{
      left:0;
      background: linear-gradient(90deg, rgba(7,7,9,.995), rgba(7,7,9,.75) 42%, rgba(7,7,9,0));
    }
    .railFadeR{
      right:0;
      background: linear-gradient(270deg, rgba(7,7,9,.995), rgba(7,7,9,.75) 42%, rgba(7,7,9,0));
    }

    .rail{
      display:flex;
      gap:16px;
      overflow:hidden; /* marquee feel */
      padding: 2px 2px;
      user-select:none;
    }

    /* Carousel thumbnails */
    .railItem{
      flex: 0 0 auto;
      width: 380px;
      height: 225px;
      border-radius: 18px;
      overflow: hidden;
      outline: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.02);
      position:relative;
      cursor:pointer;
      transition: transform .22s ease, outline-color .22s ease, box-shadow .22s ease;
    }
    .railItem:hover{
      transform: translateY(-2px);
      outline-color: rgba(255,255,255,.22);
      box-shadow: 0 18px 55px rgba(0,0,0,.55);
    }
    .railMedia{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      background:#000;
    }
    .railBadge{
      position:absolute;
      left:10px;
      top:10px;
      padding:6px 8px;
      border-radius:999px;
      background: rgba(0,0,0,.42);
      outline:1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      font-size: 11px;
      font-weight: 650;
      color: rgba(255,255,255,.92);
      pointer-events:none;
      z-index:4;
    }

    /* ========= Grid below carousel ========= */
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 18px;
      overflow: visible;
    }

    /* Smaller grid ONLY on ALL (smaller again) */
    .grid.compactAll{
      grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      gap: 11px;
    }

    .grid:hover .card{ opacity: .84; }

    .card{
      position: relative;
      height: 270px;
      border-radius: var(--r);
      overflow: visible;
      cursor: pointer;
      transition: opacity .18s ease;
    }
    .grid.compactAll .card{ height: 175px; }
    @media (min-width: 980px){
      .card:nth-child(6n){ height: 310px; }
      .grid.compactAll .card:nth-child(6n){ height: 205px; }
    }

    .card-inner{
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: var(--r);
      overflow: hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      outline: 1px solid var(--border);
      transition: transform .22s ease, box-shadow .22s ease, outline-color .22s ease;
      will-change: transform;
    }

    /* Specular highlight overlay (subtle premium sheen) */
    .card-inner::after{
      content:"";
      position:absolute;
      top:-30%;
      left:-60%;
      width: 55%;
      height: 160%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.16), transparent);
      transform: skewX(-18deg);
      opacity:0;
      pointer-events:none;
      z-index:3;
    }
    .card:hover .card-inner::after{
      opacity:1;
      animation: specSweep .85s ease forwards;
    }
    @keyframes specSweep{
      0%{ left:-60%; opacity:0; }
      15%{ opacity:1; }
      100%{ left:130%; opacity:0; }
    }

    .card:hover{ opacity: 1 !important; z-index: 10; }
    .card:hover .card-inner{
      transform: scale(1.05);
      box-shadow: var(--shadow);
      outline-color: var(--border2);
    }

    /* Press effect on click */
    .card.pressed .card-inner{
      transform: scale(1.02);
      transition: transform .08s ease;
    }

    .media{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      background:#000;
      transform: scale(1.01);
    }

    .typeIcon{
      position:absolute;
      left:10px;
      top:10px;
      width:36px;
      height:36px;
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,.42);
      outline:1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      pointer-events:none;
      font-size:14px;
      z-index:5;
    }

    .caption{
      position:absolute;
      left:12px; right:12px; bottom:12px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(0,0,0,.46);
      outline: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      transform: translateY(8px);
      opacity: 0;
      transition: opacity .20s ease, transform .20s ease;
      pointer-events:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      z-index:5;
    }
    .card:hover .caption{ opacity: 1; transform: translateY(0); }
    .grid.compactAll .caption{
      left:10px; right:10px; bottom:10px;
      padding: 8px 10px;
      border-radius: 12px;
    }

    .capText{
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-size: 12px;
      color: rgba(255,255,255,.92);
      font-weight: 600;
      letter-spacing: .1px;
    }
    .capTag{
      font-size: 11px;
      color: rgba(255,255,255,.70);
      white-space: nowrap;
      font-weight: 500;
    }

    /* Pair */
    .pair{
      width:100%;
      height:100%;
      display:grid;
      grid-template-columns:1fr 1fr;
      background:#000;
      position:relative;
    }
    .pair img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      background:#000;
    }
    .divider{
      position:absolute;
      left:50%;
      top:0; bottom:0;
      width:1px;
      background: rgba(255,255,255,.18);
      pointer-events:none;
      z-index:4;
    }
    .pairLabel{
      position:absolute;
      top:10px;
      padding:7px 10px;
      border-radius:999px;
      background: rgba(0,0,0,.46);
      outline: 1px solid rgba(255,255,255,.10);
      font-size: 12px;
      backdrop-filter: blur(10px);
      pointer-events:none;
      opacity:.92;
      letter-spacing:.2px;
      z-index:5;
      font-weight: 600;
    }
    .pairLabel.before{ left:56px; }
    .pairLabel.after{ right:10px; }

    /* AFTER pulse (hover-only) */
    .afterShine{
      position:absolute;
      top:10px; bottom:10px;
      left:calc(50% + 10px); right:10px;
      border-radius:14px;
      pointer-events:none;
      opacity:0;
      z-index:6;
    }
    .afterShine::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:14px;
      border:2px solid var(--aStroke1);
      box-shadow: 0 0 0 1px rgba(120,255,210,.12) inset;
      opacity:.85;
    }
    .afterShine::after{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius:20px;
      box-shadow:
        0 0 14px var(--aGlow1),
        0 0 28px var(--aGlow3);
      opacity:0;
      transform: scale(.99);
    }
    .card:hover .afterShine{ opacity: 1; }
    .card:hover .afterShine::before{ animation: afterStrokePulse 1.25s ease-in-out infinite; }
    .card:hover .afterShine::after { opacity: 1; animation: afterGlowPulse 1.25s ease-in-out infinite; }
    @keyframes afterStrokePulse{
      0%,100%{ border-color: var(--aStroke1); opacity:.72; filter:saturate(1) hue-rotate(0deg); }
      50%{ border-color: var(--aStroke2); opacity:1; filter:saturate(1.15) hue-rotate(12deg); }
    }
    @keyframes afterGlowPulse{
      0%,100%{ transform: scale(.988); box-shadow: 0 0 12px var(--aGlow1), 0 0 24px var(--aGlow3); opacity:.72; }
      50%{ transform: scale(1.01); box-shadow: 0 0 20px var(--aGlow2), 0 0 40px var(--aGlow4); opacity:1; }
    }

    /* ========= Overlays / dialogs ========= */
    .overlay{
      position:fixed; inset:0;
      display:none;
      align-items:center; justify-content:center;
      padding:18px;
      background:rgba(0,0,0,.70);
      z-index:220;
    }
    .overlay.open{ display:flex; }

    .dialog{
      width:min(760px, 96vw);
      border-radius:18px;
      background: rgba(15,15,18,.96);
      outline:1px solid rgba(255,255,255,.12);
      box-shadow:0 35px 120px rgba(0,0,0,.65);
      overflow:hidden;
      transform: translateY(14px) scale(.99);
      opacity: 0;
      transition: transform .24s ease, opacity .24s ease;
    }
    .overlay.open .dialog{ transform: translateY(0) scale(1); opacity: 1; }

    .dialogTop{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 12px;
      background:rgba(255,255,255,.03);
    }
    .dialogTop b{ font-size:13px; opacity:.92; font-weight:700; }
    .xbtn{
      border:0; cursor:pointer;
      padding:8px 10px;
      border-radius:12px;
      background:rgba(255,255,255,.10);
      color:#fff;
      outline:1px solid rgba(255,255,255,.10);
      transition:transform .18s ease, background .18s ease;
      font-weight: 650;
    }
    .xbtn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.14); }
    .xbtn:active{ transform:translateY(0) scale(.99); }

    .dialogBody{ padding:18px 16px 16px; }

    /* Bigger premium About text */
    .aboutText{
      font-size: 16px;
      line-height: 1.75;
      color: rgba(255,255,255,.86);
      font-weight: 550;
      margin: 0;
      letter-spacing: .01em;
    }
    .aboutText .lead{
      display:block;
      font-size: 18px;
      line-height: 1.55;
      font-weight: 800;
      margin-bottom: 12px;
      color: rgba(255,255,255,.95);
      letter-spacing: .01em;
    }
    @media (max-width: 820px){
      .aboutText{ font-size: 15px; }
      .aboutText .lead{ font-size: 16px; }
    }

    .sub{ font-size:12px; color:rgba(255,255,255,.70); margin:0; line-height:1.55; font-weight:500; }

    .emailBox{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding:12px 12px;
      border-radius:14px;
      background:rgba(255,255,255,.06);
      outline:1px solid rgba(255,255,255,.10);
      margin-top:10px;
    }
    .email{
      font-weight:700;
      letter-spacing:.2px;
      font-size:13px;
      color:rgba(255,255,255,.92);
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .rowBtns{ display:flex; gap:8px; align-items:center; }
    .copyBtn, .mailBtn{
      border:0; cursor:pointer;
      padding:10px 12px;
      border-radius:12px;
      background:rgba(255,255,255,.12);
      color:#fff;
      outline:1px solid rgba(255,255,255,.12);
      font-size:12px;
      transition:transform .18s ease, background .18s ease;
      user-select:none;
      white-space:nowrap;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-weight: 650;
    }
    .copyBtn:hover, .mailBtn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.16); }
    .copyBtn:active, .mailBtn:active{ transform:translateY(0) scale(.99); }

    .toast{
      position:fixed;
      left:50%; bottom:22px;
      transform:translateX(-50%) translateY(10px);
      opacity:0;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(0,0,0,.55);
      outline:1px solid rgba(255,255,255,.12);
      color:#fff;
      font-size:12px;
      backdrop-filter:blur(10px);
      transition:opacity .18s ease, transform .18s ease;
      z-index:240;
      pointer-events:none;
      font-weight: 650;
    }
    .toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }

    /* ========= Viewer ========= */
    .modal{
      position:fixed; inset:0; display:none;
      background:rgba(0,0,0,.74);
      padding:18px;
      align-items:center; justify-content:center;
      z-index:230;
    }
    .modal.open{ display:flex; }

    /* Smooth entrance: slight blur + stronger easing */
    .modal-inner{
      width:min(1120px, 96vw);
      background:rgba(15,15,18,.96);
      border-radius:18px;
      overflow:hidden;
      outline:1px solid rgba(255,255,255,.10);
      box-shadow:0 35px 120px rgba(0,0,0,.70);
      transform: translateY(16px) scale(.985);
      opacity: 0;
      filter: blur(6px);
      transition: transform .28s cubic-bezier(.2,.9,.2,1), opacity .24s ease, filter .28s ease;
    }
    .modal.open .modal-inner{
      transform: translateY(0) scale(1);
      opacity: 1;
      filter: blur(0);
    }

    .modal-top{
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px;
      background:rgba(255,255,255,.03);
      gap:10px;
    }
    .modal-top b{ font-size:13px; opacity:.9; font-weight:800; letter-spacing:.02em; }

    .close{
      border:0; cursor:pointer;
      background:rgba(255,255,255,.10);
      color:#fff;
      padding:8px 10px;
      border-radius:12px;
      outline:1px solid rgba(255,255,255,.10);
      transition:transform .18s ease, background .18s ease;
      font-weight: 650;
    }
    .close:hover{ transform:translateY(-1px); background:rgba(255,255,255,.14); }
    .close:active{ transform:translateY(0) scale(.99); }

    /* Nav arrows */
    .navBtn{
      border:0; cursor:pointer;
      width: 40px; height: 40px;
      border-radius: 14px;
      background: rgba(255,255,255,.10);
      outline: 1px solid rgba(255,255,255,.10);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 16px;
      transition: transform .18s ease, background .18s ease, outline-color .18s ease;
      user-select:none;
      flex: 0 0 auto;
    }
    .navBtn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.14);
      outline-color: rgba(255,255,255,.18);
    }
    .navBtn:active{ transform: translateY(0) scale(.99); }
    .navBtn[disabled]{
      opacity: .35;
      cursor:not-allowed;
      transform:none;
    }

    .modalBar{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .viewer{
      width:100%;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      max-height:74vh;
      position:relative;
    }
    .viewer video{
      width:100%;
      height:100%;
      max-height:74vh;
      object-fit:contain;
      background:#000;
    }
    .viewer img{
      width:100%;
      height:auto;
      max-height:74vh;
      object-fit:contain;
      background:#000;
      display:block;
    }

    .viewerPair{
      width:100%;
      display:grid;
      grid-template-columns:1fr 1fr;
      background:#000;
      max-height:74vh;
      position:relative;
    }
    .viewerPair img{
      width:100%;
      height:74vh;
      object-fit:contain;
      background:#000;
      display:block;
    }
    .viewerDivider{
      position:absolute;
      left:50%;
      top:0;
      bottom:0;
      width:1px;
      background:rgba(255,255,255,.18);
      pointer-events:none;
      z-index:2;
    }
    .viewerAfterShine{
      position:absolute;
      top:14px; bottom:14px;
      left:calc(50% + 14px); right:14px;
      border-radius:16px;
      pointer-events:none;
      z-index:3;
    }
    .viewerAfterShine::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:16px;
      border:2px solid var(--aStroke1);
      box-shadow: 0 0 0 1px rgba(120,255,210,.12) inset;
      animation: afterStrokePulse 1.35s ease-in-out infinite;
      opacity:.95;
    }
    .viewerAfterShine::after{
      content:"";
      position:absolute;
      inset:-12px;
      border-radius:24px;
      animation: afterGlowPulse 1.35s ease-in-out infinite;
      opacity:.95;
    }

    /* Premium caption + meta under full-size */
    .viewerInfo{
      padding: 14px 14px 16px;
      background: rgba(255,255,255,.03);
      border-top: 1px solid rgba(255,255,255,.08);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
    }
    .viewerCaption{
      font-size: 14px;
      font-weight: 800;
      letter-spacing: .01em;
      color: rgba(255,255,255,.94);
      line-height: 1.35;
      margin: 0;
    }
    .viewerMeta{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .pill{
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      outline: 1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.82);
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .08em;
      text-transform: uppercase;
      white-space:nowrap;
    }

    /* Responsive */
    @media (max-width: 980px){
      .title{ font-size: 30px; }
      .railItem{ width: 320px; height: 195px; }
    }
    @media (max-width: 820px){
      .wrap{ padding: 0 14px 70px; }
      .headerCard{ padding: 12px 12px 10px; border-radius: 16px; }
      .title{ font-size: 26px; }
      .subtitle{ letter-spacing: .20em; }

      .grid{ grid-template-columns: 1fr; }
      .card{ height: 245px; }
      .grid.compactAll .card{ height: 175px; }
      .card:hover .card-inner{ transform: scale(1.03); }

      .railItem{ width: 275px; height: 168px; }

      .viewerPair{ grid-template-columns:1fr; }
      .viewerPair img{ height:auto; max-height:74vh; }
      .viewerDivider, .viewerAfterShine{ display:none; }

      .viewerInfo{ flex-direction:column; align-items:flex-start; }
      .viewerMeta{ justify-content:flex-start; }

      .navBtn{ width: 38px; height: 38px; border-radius: 14px; }
    }
  </style>
</head>

<body>
  <div class="sticky">
    <div class="headerCard">
      <div class="top">
        <div class="leftSpacer"></div>

        <div class="titleWrap">
          <div class="title">Test portfolio</div>
          <div class="subtitle">Photo & Motion</div>
          <div class="marker"></div>
        </div>

        <div class="actions">
          <button class="btn" id="aboutBtn">üë§ About me</button>
          <button class="btn" id="contactBtn">‚úâÔ∏è Contact me</button>
          <button class="btn" id="soundBtn" title="Ukljuƒçi UI zvuk (hover/klik)">
            üîä <span id="soundLabel">Sound OFF</span>
          </button>
        </div>
      </div>

      <div class="filters" id="filters">
        <button class="chip allChip active" data-filter="all">‚òÖ All</button>
        <button class="chip" data-filter="video">‚ñ∂ Video</button>
        <button class="chip" data-filter="photo">‚ñ¢ Photo</button>
      </div>
    </div>
  </div>

  <div class="wrap contentTopPad">
    <section class="strip show" id="strip">
      <div class="railFadeL"></div>
      <div class="railFadeR"></div>
      <div class="rail" id="rail" aria-label="Carousel strip"></div>
    </section>

    <div class="grid compactAll" id="grid"></div>
  </div>

  <!-- About dialog -->
  <div class="overlay" id="aboutOverlay" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="aboutTitle">
      <div class="dialogTop">
        <b id="aboutTitle">About me</b>
        <button class="xbtn" id="aboutClose">Close</button>
      </div>
      <div class="dialogBody">
        <p class="aboutText" id="aboutText"></p>
      </div>
    </div>
  </div>

  <!-- Contact dialog -->
  <div class="overlay" id="contactOverlay" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="contactTitle">
      <div class="dialogTop">
        <b id="contactTitle">Contact</b>
        <button class="xbtn" id="contactClose">Close</button>
      </div>
      <div class="dialogBody">
        <p class="sub">Mo≈æe≈° me kontaktirati ovdje ‚Äî kopiraj email ili otvori mail app.</p>
        <div class="emailBox">
          <div class="email" id="emailText">primjer@nestobzv.com</div>
          <div class="rowBtns">
            <button class="copyBtn" id="copyBtn">Copy</button>
            <a class="mailBtn" href="mailto:primjer@nestobzv.com">Open</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Copied ‚úì</div>

  <!-- Viewer modal -->
  <div class="modal" id="modal">
    <div class="modal-inner">
      <div class="modal-top">
        <div class="modalBar">
          <button class="navBtn" id="prevBtn" title="Previous (‚Üê)">‚Üê</button>
          <button class="navBtn" id="nextBtn" title="Next (‚Üí)">‚Üí</button>
        </div>

        <b id="modalTitle">Viewer</b>

        <button class="close" id="closeBtn">Close</button>
      </div>

      <div class="viewer" id="viewer"></div>

      <div class="viewerInfo" id="viewerInfo">
        <p class="viewerCaption" id="viewerCaption">Primjer blabla</p>
        <div class="viewerMeta" id="viewerMeta">
          <span class="pill" id="metaType">PHOTO</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ==========================
    // UPISI SVOJE FAJLOVE OVDJE
    // Folderi:
    //   /videos
    //   /images
    // ==========================
    const ITEMS = [
      // Videos
      { type: "video", src: "./videos/v1.mp4", caption: "Primjer blabla" },
      { type: "video", src: "./videos/v2.mp4", caption: "Primjer blabla" },
      { type: "video", src: "./videos/v3.mp4", caption: "Primjer blabla" },
      { type: "video", src: "./videos/v4.mp4", caption: "Primjer blabla" },
      { type: "video", src: "./videos/v5.mp4", caption: "Primjer blabla" },

      // Photos
      { type: "photo", src: "./images/p2.png", caption: "Primjer blabla" },

      // Before/After pairs
      { type: "pair", before: "./images/p1_before.png", after: "./images/p1_after.png", caption: "Primjer blabla" },
      { type: "pair", before: "./images/p3_before.png", after: "./images/p3_after.png", caption: "Primjer blabla" },
    ];

    // ==========================
    // ABOUT TEXT (your copy)
    // ==========================
    const ABOUT_COPY = `Visuals are not decoration ‚Äî they are positioning.
Every visual starts with a clear idea and ends with content that stops the scroll, holds attention, and delivers meaning. Each frame is built with intention, precision, and restraint, where nothing exists without purpose.

My focus is on clean composition, bold energy, and refined detail ‚Äî cutting noise, stripping excess, and amplifying what truly matters. No empty aesthetics. No generic outputs. Just strong, flavorful visuals designed to elevate stories, brands, and digital presence. The result is work that feels controlled, confident, and unmistakably high-end.

This is visual direction for brands that understand one thing clearly: premium is not added ‚Äî it is revealed. It lives in clarity, balance, and authority. In visuals that shape perception, elevate presence, and quietly signal value before a single word is read.

If your brand belongs in the premium space, its visuals must reflect that level ‚Äî precise, intentional, and undeniably elevated. When visuals are precise, the brand feels expensive ‚Äî instantly, instinctively. Luxury speaks quietly.
The right visuals make people listen.`;

    function escapeHtml(s){
      return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
    }
    function formatAbout(text){
      const parts = text.split("\n\n").map(p => p.trim()).filter(Boolean);
      if(!parts.length) return "";
      const lead = parts.shift();
      return `<span class="lead">${escapeHtml(lead)}</span>` + parts.map(p => `<div style="margin:0 0 12px 0;">${escapeHtml(p)}</div>`).join("");
    }

    // ==========================
    // UI SOUND (WebAudio)
    // ==========================
    let soundEnabled = false;
    let audioCtx = null;

    function ensureAudio(){
      if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      if(audioCtx.state === "suspended") audioCtx.resume().catch(()=>{});
    }

    function hoverTick(){
      if(!soundEnabled) return;
      ensureAudio();
      const now = audioCtx.currentTime;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = "sine";
      o.frequency.setValueAtTime(820, now);
      g.gain.setValueAtTime(0.0001, now);
      g.gain.exponentialRampToValueAtTime(0.020, now + 0.005);
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.030);
      o.connect(g); g.connect(audioCtx.destination);
      o.start(now); o.stop(now + 0.04);
    }

    function softClick(){
      if(!soundEnabled) return;
      ensureAudio();
      const now = audioCtx.currentTime;

      const bufferSize = Math.floor(audioCtx.sampleRate * 0.04);
      const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
      const data = buffer.getChannelData(0);
      for(let i=0;i<bufferSize;i++){
        data[i] = (Math.random()*2-1) * Math.exp(-i / (bufferSize/6));
      }

      const src = audioCtx.createBufferSource();
      src.buffer = buffer;

      const filter = audioCtx.createBiquadFilter();
      filter.type = "lowpass";
      filter.frequency.setValueAtTime(1200, now);
      filter.Q.setValueAtTime(0.8, now);

      const g = audioCtx.createGain();
      g.gain.setValueAtTime(0.0001, now);
      g.gain.exponentialRampToValueAtTime(0.08, now + 0.005);
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.040);

      src.connect(filter); filter.connect(g); g.connect(audioCtx.destination);
      src.start(now); src.stop(now + 0.05);
    }

    const soundBtn = document.getElementById("soundBtn");
    const soundLabel = document.getElementById("soundLabel");
    soundBtn.addEventListener("click", () => {
      soundEnabled = !soundEnabled;
      if(soundEnabled){
        ensureAudio();
        soundBtn.classList.add("on");
        soundLabel.textContent = "Sound ON";
        softClick();
      } else {
        soundBtn.classList.remove("on");
        soundLabel.textContent = "Sound OFF";
      }
    });

    // ==========================
    // ABOUT MODAL
    // ==========================
    const aboutBtn = document.getElementById("aboutBtn");
    const aboutOverlay = document.getElementById("aboutOverlay");
    const aboutClose = document.getElementById("aboutClose");
    const aboutText = document.getElementById("aboutText");
    aboutText.innerHTML = formatAbout(ABOUT_COPY);

    function openAbout(){ aboutOverlay.classList.add("open"); softClick(); }
    function closeAbout(){ aboutOverlay.classList.remove("open"); }
    aboutBtn.addEventListener("click", openAbout);
    aboutClose.addEventListener("click", () => { softClick(); closeAbout(); });
    aboutOverlay.addEventListener("click", (e) => { if(e.target === aboutOverlay){ softClick(); closeAbout(); } });

    // ==========================
    // CONTACT MODAL
    // ==========================
    const contactBtn = document.getElementById("contactBtn");
    const contactOverlay = document.getElementById("contactOverlay");
    const contactClose = document.getElementById("contactClose");
    const emailText = document.getElementById("emailText");
    const copyBtn = document.getElementById("copyBtn");
    const toast = document.getElementById("toast");

    function openContact(){ contactOverlay.classList.add("open"); softClick(); }
    function closeContact(){ contactOverlay.classList.remove("open"); }
    contactBtn.addEventListener("click", openContact);
    contactClose.addEventListener("click", () => { softClick(); closeContact(); });
    contactOverlay.addEventListener("click", (e) => { if(e.target === contactOverlay){ softClick(); closeContact(); } });

    copyBtn.addEventListener("click", async () => {
      softClick();
      try{
        await navigator.clipboard.writeText(emailText.textContent.trim());
        toast.textContent = "Copied ‚úì";
      }catch(e){
        toast.textContent = "Copy not allowed";
      }
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 1400);
    });

    // ==========================
    // VIEWER MODAL + NAV
    // ==========================
    const modal = document.getElementById("modal");
    const viewer = document.getElementById("viewer");
    const viewerCaption = document.getElementById("viewerCaption");
    const metaType = document.getElementById("metaType");
    const closeBtn = document.getElementById("closeBtn");
    const modalTitle = document.getElementById("modalTitle");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let currentList = ITEMS.slice();
    let currentIndex = 0;

    function typeLabel(t){
      if(t === "video") return "VIDEO";
      if(t === "photo") return "PHOTO";
      return "BEFORE/AFTER";
    }

    function openViewerByIndex(idx){
      currentIndex = Math.max(0, Math.min(idx, currentList.length - 1));
      const item = currentList[currentIndex];

      viewer.innerHTML = "";

      viewerCaption.textContent = item.caption || "Primjer blabla";
      metaType.textContent = typeLabel(item.type);

      if(item.type === "video"){
        modalTitle.textContent = "Video";
        const v = document.createElement("video");
        v.src = item.src;
        v.controls = true;
        v.playsInline = true;
        v.muted = false;
        v.currentTime = 0;
        viewer.appendChild(v);
        modal.classList.add("open");
        v.play().catch(()=>{});
      } else if(item.type === "photo"){
        modalTitle.textContent = "Photo";
        const img = document.createElement("img");
        img.src = item.src;
        img.alt = "Photo";
        viewer.appendChild(img);
        modal.classList.add("open");
      } else {
        modalTitle.textContent = "Before / After";
        const pair = document.createElement("div");
        pair.className = "viewerPair";

        const b = document.createElement("img");
        b.src = item.before; b.alt = "Before";
        const a = document.createElement("img");
        a.src = item.after; a.alt = "After";

        pair.appendChild(b);
        pair.appendChild(a);

        const div = document.createElement("div");
        div.className = "viewerDivider";
        pair.appendChild(div);

        const shine = document.createElement("div");
        shine.className = "viewerAfterShine";
        pair.appendChild(shine);

        viewer.appendChild(pair);
        modal.classList.add("open");
      }

      prevBtn.disabled = currentIndex === 0;
      nextBtn.disabled = currentIndex === currentList.length - 1;
    }

    function openViewer(item, listRef){
      currentList = listRef || ITEMS;
      const idx = currentList.indexOf(item);
      openViewerByIndex(idx >= 0 ? idx : 0);
    }

    function closeViewer(){
      modal.classList.remove("open");
      viewer.innerHTML = "";
    }

    function prev(){
      if(currentIndex > 0){
        softClick();
        openViewerByIndex(currentIndex - 1);
      }
    }
    function next(){
      if(currentIndex < currentList.length - 1){
        softClick();
        openViewerByIndex(currentIndex + 1);
      }
    }

    prevBtn.addEventListener("click", prev);
    nextBtn.addEventListener("click", next);

    closeBtn.addEventListener("click", () => { softClick(); closeViewer(); });
    modal.addEventListener("click", (e) => { if(e.target === modal){ softClick(); closeViewer(); } });

    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){
        if(modal.classList.contains("open")) closeViewer();
        if(contactOverlay.classList.contains("open")) closeContact();
        if(aboutOverlay.classList.contains("open")) closeAbout();
      }
      if(!modal.classList.contains("open")) return;
      if(e.key === "ArrowLeft") prev();
      if(e.key === "ArrowRight") next();
    });

    let touchX = null;
    modal.addEventListener("touchstart", (e) => {
      if(!modal.classList.contains("open")) return;
      touchX = e.touches[0].clientX;
    }, {passive:true});

    modal.addEventListener("touchend", (e) => {
      if(touchX === null) return;
      const endX = (e.changedTouches && e.changedTouches[0]) ? e.changedTouches[0].clientX : touchX;
      const dx = endX - touchX;
      touchX = null;
      if(Math.abs(dx) < 50) return;
      if(dx > 0) prev();
      else next();
    }, {passive:true});

    // ==========================
    // FILTERS + RENDER + INFINITE MARQUEE (dup content)
    // + easing slowdown on hover
    // ==========================
    const grid = document.getElementById("grid");
    const strip = document.getElementById("strip");
    const rail = document.getElementById("rail");
    const filterWrap = document.getElementById("filters");

    let currentFilter = "all";

    // marquee state
    let raf = null;
    let lastTs = 0;
    const baseSpeed = 62;        // px/sec
    let speed = baseSpeed;       // current speed
    let targetSpeed = baseSpeed; // target speed

    filterWrap.addEventListener("click", (e) => {
      const btn = e.target.closest(".chip");
      if(!btn) return;

      currentFilter = btn.dataset.filter;
      document.querySelectorAll(".chip").forEach(c => c.classList.remove("active"));
      btn.classList.add("active");

      softClick();
      renderAll();
    });

    function getFilteredForGrid(){
      if(currentFilter === "all") return ITEMS.slice();
      if(currentFilter === "video") return ITEMS.filter(x => x.type === "video");
      if(currentFilter === "photo") return ITEMS.filter(x => x.type === "photo" || x.type === "pair");
      return ITEMS.slice();
    }

    function renderGrid(){
      const list = getFilteredForGrid();
      grid.innerHTML = "";
      list.forEach(item => grid.appendChild(createGridCard(item, list)));
    }

    function createGridCard(item, listRef){
      const card = document.createElement("div");
      card.className = "card";

      const inner = document.createElement("div");
      inner.className = "card-inner";

      card.addEventListener("mouseenter", () => hoverTick());

      const icon = document.createElement("div");
      icon.className = "typeIcon";
      icon.textContent = item.type === "video" ? "‚ñ∂" : (item.type === "pair" ? "‚áÑ" : "‚ñ¢");
      inner.appendChild(icon);

      if(item.type === "video"){
        const v = document.createElement("video");
        v.className = "media";
        v.src = item.src;
        v.muted = true;
        v.loop = true;
        v.playsInline = true;
        v.preload = "metadata";
        inner.appendChild(v);

        card.addEventListener("mouseenter", async () => {
          try{ v.currentTime = 0; await v.play(); }catch(e){}
        });
        card.addEventListener("mouseleave", () => {
          v.pause();
          v.currentTime = 0;
        });

      } else if(item.type === "photo"){
        const img = document.createElement("img");
        img.className = "media";
        img.src = item.src;
        img.alt = "Photo";
        img.loading = "lazy";
        img.decoding = "async";
        inner.appendChild(img);

      } else {
        const pair = document.createElement("div");
        pair.className = "pair";

        const b = document.createElement("img");
        b.src = item.before; b.alt = "Before"; b.loading="lazy"; b.decoding="async";
        const a = document.createElement("img");
        a.src = item.after; a.alt = "After"; a.loading="lazy"; a.decoding="async";

        pair.appendChild(b);
        pair.appendChild(a);
        inner.appendChild(pair);

        const divider = document.createElement("div");
        divider.className = "divider";
        inner.appendChild(divider);

        const lb = document.createElement("div");
        lb.className = "pairLabel before"; lb.textContent = "BEFORE";
        const la = document.createElement("div");
        la.className = "pairLabel after"; la.textContent = "AFTER";
        inner.appendChild(lb);
        inner.appendChild(la);

        const shine = document.createElement("div");
        shine.className = "afterShine";
        inner.appendChild(shine);
      }

      const cap = document.createElement("div");
      cap.className = "caption";
      cap.innerHTML = `<div class="capText">${item.caption || "Primjer blabla"}</div>
                       <div class="capTag">${typeLabel(item.type)}</div>`;
      inner.appendChild(cap);

      card.appendChild(inner);

      // press effect
      card.addEventListener("pointerdown", () => card.classList.add("pressed"));
      card.addEventListener("pointerup", () => card.classList.remove("pressed"));
      card.addEventListener("pointerleave", () => card.classList.remove("pressed"));

      card.addEventListener("click", () => { softClick(); openViewer(item, listRef); });
      return card;
    }

    function createRailItem(item, listRef){
      const el = document.createElement("div");
      el.className = "railItem";

      // Ease slowdown on hover
      el.addEventListener("mouseenter", () => {
        targetSpeed = 0;  // ease toward stop
        hoverTick();
      });
      el.addEventListener("mouseleave", () => {
        targetSpeed = baseSpeed;
      });

      const badge = document.createElement("div");
      badge.className = "railBadge";
      badge.textContent = typeLabel(item.type);
      el.appendChild(badge);

      if(item.type === "video"){
        const v = document.createElement("video");
        v.className = "railMedia";
        v.src = item.src;
        v.muted = true;
        v.loop = true;
        v.playsInline = true;
        v.preload = "metadata";
        el.appendChild(v);

        el.addEventListener("mouseenter", async () => {
          try{ v.currentTime = 0; await v.play(); }catch(e){}
        });
        el.addEventListener("mouseleave", () => {
          v.pause();
          v.currentTime = 0;
        });

      } else if(item.type === "photo"){
        const img = document.createElement("img");
        img.className = "railMedia";
        img.src = item.src;
        img.alt = "Photo";
        img.loading = "lazy";
        img.decoding = "async";
        el.appendChild(img);

      } else {
        const img = document.createElement("img");
        img.className = "railMedia";
        img.src = item.after;
        img.alt = "After";
        img.loading = "lazy";
        img.decoding = "async";
        el.appendChild(img);
      }

      el.addEventListener("click", () => { softClick(); openViewer(item, listRef); });
      return el;
    }

    function cancelMarquee(){
      if(raf){
        cancelAnimationFrame(raf);
        raf = null;
      }
    }

    function startMarquee(){
      cancelMarquee();
      lastTs = 0;
      speed = baseSpeed;
      targetSpeed = baseSpeed;

      const loop = (ts) => {
        if(!strip.classList.contains("show")) return;
        if(!lastTs) lastTs = ts;
        const dt = (ts - lastTs) / 1000;
        lastTs = ts;

        // ease speed (smooth slowdown / resume)
        const k = 1 - Math.pow(0.001, dt); // framerate-independent smoothing
        speed = speed + (targetSpeed - speed) * k;

        rail.scrollLeft += speed * dt;

        const half = rail.scrollWidth / 2;
        if(half > 0 && rail.scrollLeft >= half){
          rail.scrollLeft -= half;
        }

        raf = requestAnimationFrame(loop);
      };

      raf = requestAnimationFrame(loop);
    }

    function renderRail(){
      rail.innerHTML = "";

      // Duplicate content for infinite loop
      const baseList = ITEMS.slice();
      const doubled = baseList.concat(baseList);

      // navigation in viewer should follow baseList order (not doubled)
      doubled.forEach(item => rail.appendChild(createRailItem(item, baseList)));

      // Mobile: while touching rail -> slow stop; release -> resume
      rail.addEventListener("touchstart", () => { targetSpeed = 0; }, {passive:true});
      rail.addEventListener("touchend", () => { targetSpeed = baseSpeed; }, {passive:true});

      rail.scrollLeft = 0;
      startMarquee();
    }

    function renderAll(){
      if(currentFilter === "all"){
        strip.classList.add("show");
        grid.classList.add("compactAll");
        renderRail();
      } else {
        strip.classList.remove("show");
        grid.classList.remove("compactAll");
        cancelMarquee();
      }
      renderGrid();
    }

    renderAll();
  </script>
</body>
</html>
